# import json
#
# names = ['joker','joe','nacy','timi']
#
# filename='device.json'
# with open(filename,'w') as file_obj:
#     json.dump(names,file_obj)


import json

class creatDevice():
    """Class that loads hyperparameters from a json file.
        Example:
        ```
        params = Params(json_path)
        print(params.learning_rate)
        params.learning_rate = 0.5  # change the value of learning_rate in params
        ```
        """
    def __init__(self, json_path):
        with open(json_path) as f:
            params = json.load(f)  # 将json格式数据转换为字典
            self.__dict__.update(params)

    def save(self, json_path):
        with open(json_path, 'w') as f:
            json.dump(self.__dict__, f, indent=4)  # indent缩进级别进行漂亮打印

    def update(self, json_path):
        """Loads parameters from json file"""
        with open(json_path) as f:
            params = json.load(f)
            self.__dict__.update(params)

    def read(self, json_path):
        with open(json_path, 'r') as load_f:
            load_dict = json.load(load_f)
            # print(load_dict)
            return  load_dict


    @property  # Python内置的@property装饰器就是负责把一个方法变成属性调用的
    def dict(self):
        """Gives dict-like access to Params instance by `params.dict['learning_rate']"""
        return self.__dict__


if __name__ == '__main__':
#     parameters = {
#     "123456789_1": {
#         "box_id": 123456789,
#         "device_name": "light",
#         "device_type": "light",
#         "kfid": 12,
#         "keylist": [
#             {
#                 "open": [
#                     1367,
#                     407,
#                     1368,
#                     407,
#                     443,
#                     1269,
#                     1371,
#                     407,
#                     1343,
#                     433,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     419,
#                     1273,
#                     442,
#                     1297,
#                     418,
#                     1297,
#                     418,
#                     7816,
#                     1343,
#                     435,
#                     1340,
#                     433,
#                     416,
#                     1298,
#                     1343,
#                     433,
#                     1342,
#                     434,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     416,
#                     1298,
#                     417,
#                     1272,
#                     521,
#                     1211,
#                     426,
#                     1297,
#                     418,
#                     7786,
#                     1340,
#                     443,
#                     1332,
#                     433,
#                     416,
#                     1297,
#                     1446,
#                     331,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     417,
#                     1297,
#                     419,
#                     1297,
#                     418,
#                     1274,
#                     442,
#                     1296,
#                     419,
#                     7815,
#                     1344,
#                     432,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     1345,
#                     433,
#                     1342,
#                     432,
#                     1343,
#                     433,
#                     1343,
#                     432,
#                     417,
#                     1296,
#                     445,
#                     1270,
#                     447,
#                     1270,
#                     443,
#                     1270,
#                     444
#                 ],
#                 "close": [
#                     1367,
#                     407,
#                     1368,
#                     407,
#                     443,
#                     1269,
#                     1371,
#                     407,
#                     1343,
#                     433,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     419,
#                     1273,
#                     442,
#                     1297,
#                     418,
#                     1297,
#                     418,
#                     7816,
#                     1343,
#                     435,
#                     1340,
#                     433,
#                     416,
#                     1298,
#                     1343,
#                     433,
#                     1342,
#                     434,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     416,
#                     1298,
#                     417,
#                     1272,
#                     521,
#                     1211,
#                     426,
#                     1297,
#                     418,
#                     7786,
#                     1340,
#                     443,
#                     1332,
#                     433,
#                     416,
#                     1297,
#                     1446,
#                     331,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     417,
#                     1297,
#                     419,
#                     1297,
#                     418,
#                     1274,
#                     442,
#                     1296,
#                     419,
#                     7815,
#                     1344,
#                     432,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     1345,
#                     433,
#                     1342,
#                     432,
#                     1343,
#                     433,
#                     1343,
#                     432,
#                     417,
#                     1296,
#                     445,
#                     1270,
#                     447,
#                     1270,
#                     443,
#                     1270,
#                     444
#                 ]
#             }
#         ]
#     },
#     "123456789_2": {
#         "box_id": 123456789,
#         "device_name": "ac",
#         "device_type": "ac",
#         "kfid": 10,
#         "keylist": [
#             {
#                 "open": [
#                     1367,
#                     407,
#                     1368,
#                     407,
#                     443,
#                     1269,
#                     1371,
#                     407,
#                     1343,
#                     433,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     419,
#                     1273,
#                     442,
#                     1297,
#                     418,
#                     1297,
#                     418,
#                     7816,
#                     1343,
#                     435,
#                     1340,
#                     433,
#                     416,
#                     1298,
#                     1343,
#                     433,
#                     1342,
#                     434,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     416,
#                     1298,
#                     417,
#                     1272,
#                     521,
#                     1211,
#                     426,
#                     1297,
#                     418,
#                     7786,
#                     1340,
#                     443,
#                     1332,
#                     433,
#                     416,
#                     1297,
#                     1446,
#                     331,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     417,
#                     1297,
#                     419,
#                     1297,
#                     418,
#                     1274,
#                     442,
#                     1296,
#                     419,
#                     7815,
#                     1344,
#                     432,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     1345,
#                     433,
#                     1342,
#                     432,
#                     1343,
#                     433,
#                     1343,
#                     432,
#                     417,
#                     1296,
#                     445,
#                     1270,
#                     447,
#                     1270,
#                     443,
#                     1270,
#                     444
#                 ],
#                 "close": [
#                     1367,
#                     407,
#                     1368,
#                     407,
#                     443,
#                     1269,
#                     1371,
#                     407,
#                     1343,
#                     433,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     419,
#                     1273,
#                     442,
#                     1297,
#                     418,
#                     1297,
#                     418,
#                     7816,
#                     1343,
#                     435,
#                     1340,
#                     433,
#                     416,
#                     1298,
#                     1343,
#                     433,
#                     1342,
#                     434,
#                     1342,
#                     433,
#                     1343,
#                     433,
#                     416,
#                     1298,
#                     417,
#                     1272,
#                     521,
#                     1211,
#                     426,
#                     1297,
#                     418,
#                     7786,
#                     1340,
#                     443,
#                     1332,
#                     433,
#                     416,
#                     1297,
#                     1446,
#                     331,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     1342,
#                     433,
#                     417,
#                     1297,
#                     419,
#                     1297,
#                     418,
#                     1274,
#                     442,
#                     1296,
#                     419,
#                     7815,
#                     1344,
#                     432,
#                     1343,
#                     433,
#                     417,
#                     1296,
#                     1345,
#                     433,
#                     1342,
#                     432,
#                     1343,
#                     433,
#                     1343,
#                     432,
#                     417,
#                     1296,
#                     445,
#                     1270,
#                     447,
#                     1270,
#                     443,
#                     1270,
#                     444
#                 ]
#             }
#         ]
#     }
# }
#     json_str = json.dumps(parameters, indent=4)
#
#     with open('device.json', 'w') as f:  # 创建一个params.json文件
#         f.write(json_str)  # 将json_str写到文件中


    Device = creatDevice('device.json')
    device_list = Device.read('device.json')
    print(device_list)
    keys=device_list.keys()
    for i in keys:
        v = device_list[i]
        print("设备ID：%s" % i)
        print("设备信息：%s" % v)
    # params.SEED = 2   # 修改json中的数据
    # params.save('params.json')  # 将修改后的数据保存